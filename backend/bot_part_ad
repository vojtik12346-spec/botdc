"hint": "K____"},
        {"lyrics": "MÃ¡ma mi vÅ¾dycky Å™Ã­kala, aÅ¥ si dÃ¡vÃ¡m pozor", "artist": "KabÃ¡t", "song": "MÃ¡ma", "hint": "K____"},
        {"lyrics": "MalÃ¡ bÃ­lÃ¡ vrÃ¡na letÃ­ k obloze", "artist": "KabÃ¡t", "song": "BÃ­lÃ¡ vrÃ¡na", "hint": "K____"},
        {"lyrics": "Kdo nekrade, ten mÃ¡", "artist": "KabÃ¡t", "song": "Kdo nekrade", "hint": "K____"},
        {"lyrics": "Pohoda, vÅ¡echno je v pohodÄ›", "artist": "KabÃ¡t", "song": "Pohoda", "hint": "K____"},
        {"lyrics": "Corrida, corrida, Å¾ivot je corrida", "artist": "KabÃ¡t", "song": "Corrida", "hint": "K____"},
        {"lyrics": "Dole v dole v ÃºdolÃ­", "artist": "KabÃ¡t", "song": "Dole v dole", "hint": "K____"},
        {"lyrics": "Colorado, tam bych chtÄ›l bÃ½t", "artist": "KabÃ¡t", "song": "Colorado", "hint": "K____"},
        # Chinaski
        {"lyrics": "DÃ­vÃ¡m se na hvÄ›zdy a pÅ™emÃ½Å¡lÃ­m", "artist": "Chinaski", "song": "HvÄ›zdy", "hint": "C______"},
        {"lyrics": "Chci Å¾Ã­t svÅ¯j Å¾ivot naplno", "artist": "Chinaski", "song": "Naplno", "hint": "C______"},
        {"lyrics": "Cestou na jih, kde slunce zapadÃ¡", "artist": "Chinaski", "song": "Na jih", "hint": "C______"},
        {"lyrics": "Rock and roll je mrtvej, ale my hrajem dÃ¡l", "artist": "Chinaski", "song": "Rock and roll", "hint": "C______"},
        {"lyrics": "Jsi mÅ¯j nejlepÅ¡Ã­ pÅ™Ã­tel", "artist": "Chinaski", "song": "PÅ™Ã­tel", "hint": "C______"},
        {"lyrics": "VÅ¡echno co mÃ¡m, vÅ¡echno co chci", "artist": "Chinaski", "song": "VÅ¡echno", "hint": "C______"},
        # Lucie
        {"lyrics": "PojÄ blÃ­Å¾, pojÄ blÃ­Å¾ ke mnÄ›", "artist": "Lucie", "song": "PojÄ blÃ­Å¾", "hint": "L____"},
        {"lyrics": "Amerika je daleko, ale sny jsou blÃ­zko", "artist": "Lucie", "song": "Amerika", "hint": "L____"},
        {"lyrics": "ÄŒernÃ½ andÄ›lÃ© hlÃ­daj mÅ¯j sen", "artist": "Lucie", "song": "ÄŒernÃ½ andÄ›lÃ©", "hint": "L____"},
        {"lyrics": "Å um silnice, to je mÃ¡ melodie", "artist": "Lucie", "song": "Å um", "hint": "L____"},
        {"lyrics": "Chci zas v tobÄ› spÃ¡t", "artist": "Lucie", "song": "Chci zas", "hint": "L____"},
        {"lyrics": "MedvÃ­dek, jÃ¡ jsem tvÅ¯j medvÃ­dek", "artist": "Lucie", "song": "MedvÃ­dek", "hint": "L____"},
        # HorkÃ½Å¾e SlÃ­Å¾e
        {"lyrics": "Vlak, co nikde nestavÃ­", "artist": "HorkÃ½Å¾e SlÃ­Å¾e", "song": "Vlak", "hint": "HorkÃ½Å¾e S____"},
        {"lyrics": "SilnÃ© reÄi, tie nezastavÃ­Å¡", "artist": "HorkÃ½Å¾e SlÃ­Å¾e", "song": "SilnÃ© reÄi", "hint": "HorkÃ½Å¾e S____"},
        # Å kwor
        {"lyrics": "SÃ¡m proti vÅ¡em, tak to mÃ¡ bÃ½t", "artist": "Å kwor", "song": "SÃ¡m", "hint": "Å ____"},
        {"lyrics": "SÃ­la starejch vÃ­n", "artist": "Å kwor", "song": "SÃ­la", "hint": "Å ____"},
        # Divokej Bill
        {"lyrics": "ÄŒmelÃ¡k, ÄmelÃ¡k lÃ­tÃ¡ nad loukou", "artist": "Divokej Bill", "song": "ÄŒmelÃ¡k", "hint": "Divokej B___"},
        {"lyrics": "MalovÃ¡nÃ­, to je moje hra", "artist": "Divokej Bill", "song": "MalovÃ¡nÃ­", "hint": "Divokej B___"},
        {"lyrics": "Ring ding dong, to je naÅ¡e song", "artist": "Divokej Bill", "song": "Ring ding dong", "hint": "Divokej B___"},
        # Wohnout
        {"lyrics": "Svaz ÄeskÃ½ch bohÃ©mÅ¯, to jsme my", "artist": "Wohnout", "song": "Svaz", "hint": "W______"},
        {"lyrics": "Piju jen kdyÅ¾ svÃ­tÃ­ slunce", "artist": "Wohnout", "song": "Piju", "hint": "W______"},
        # TÅ™i sestry
        {"lyrics": "Punk rock rÃ¡dio hraje celou noc", "artist": "TÅ™i sestry", "song": "Punk rock rÃ¡dio", "hint": "TÅ™i s_____"},
        {"lyrics": "Alkohol, my ho mÃ¡me rÃ¡di", "artist": "TÅ™i sestry", "song": "Alkohol", "hint": "TÅ™i s_____"},
    ],
    "classic": [
        # Karel Gott
        {"lyrics": "Lady Carneval, tanÄÃ­ dÃ¡l a dÃ¡l", "artist": "Karel Gott", "song": "Lady Carneval", "hint": "Karel G___"},
        {"lyrics": "VÄelka MÃ¡ja, ta si lÃ©tÃ¡", "artist": "Karel Gott", "song": "VÄelka MÃ¡ja", "hint": "Karel G___"},
        {"lyrics": "LÃ¡sko vonÃ­Å¡ deÅ¡tÄ›m", "artist": "Karel Gott", "song": "LÃ¡sko", "hint": "Karel G___"},
        {"lyrics": "KdyÅ¾ milenky plÃ¡Äou, plÃ¡Äe celÃ½ svÄ›t", "artist": "Karel Gott", "song": "KdyÅ¾ milenky plÃ¡Äou", "hint": "Karel G___"},
        {"lyrics": "Okno mÃ© lÃ¡sky, zavÅ™i za sebou", "artist": "Karel Gott", "song": "Okno mÃ© lÃ¡sky", "hint": "Karel G___"},
        {"lyrics": "Bum bum bum, jÃ¡ mÃ¡m tÄ› rÃ¡d", "artist": "Karel Gott", "song": "Bum bum bum", "hint": "Karel G___"},
        {"lyrics": "BÃ½t stÃ¡le mlÃ¡d, to je mÅ¯j sen", "artist": "Karel Gott", "song": "BÃ½t stÃ¡le mlÃ¡d", "hint": "Karel G___"},
        {"lyrics": "Trezor, v nÄ›m jsou mÃ© vzpomÃ­nky", "artist": "Karel Gott", "song": "Trezor", "hint": "Karel G___"},
        {"lyrics": "PÃ¡bitelÃ©, to jsou naÅ¡i lidi", "artist": "Karel Gott", "song": "PÃ¡bitelÃ©", "hint": "Karel G___"},
        {"lyrics": "ÄŒau lÃ¡sko, uÅ¾ musÃ­m jÃ­t", "artist": "Karel Gott", "song": "ÄŒau lÃ¡sko", "hint": "Karel G___"},
        # Waldemar MatuÅ¡ka
        {"lyrics": "HolubÃ­ dÅ¯m, tam kde jsem doma", "artist": "Waldemar MatuÅ¡ka", "song": "HolubÃ­ dÅ¯m", "hint": "Waldemar M______"},
        {"lyrics": "Rosa na kolejÃ­ch, vlak co nejede", "artist": "Waldemar MatuÅ¡ka", "song": "Rosa na kolejÃ­ch", "hint": "Waldemar M______"},
        {"lyrics": "Pod tou naÅ¡Ã­ starou lÃ­pou", "artist": "Waldemar MatuÅ¡ka", "song": "Pod lÃ­pou", "hint": "Waldemar M______"},
        {"lyrics": "TisÃ­c mil, to je cesta domÅ¯", "artist": "Waldemar MatuÅ¡ka", "song": "TisÃ­c mil", "hint": "Waldemar M______"},
        # Ivan MlÃ¡dek
        {"lyrics": "JoÅ¾in z baÅ¾in mÄ›Å™Ã­ pÅ™es dva metry", "artist": "Ivan MlÃ¡dek", "song": "JoÅ¾in z baÅ¾in", "hint": "Ivan M_____"},
        {"lyrics": "Koukej, tÃ¡mhle finiÅ¡uje bÃ¡jeÄnej chlap", "artist": "Ivan MlÃ¡dek", "song": "BÃ¡jeÄnej chlap", "hint": "Ivan M_____"},
        {"lyrics": "MÄ› to tady nebavÃ­, jÃ¡ chci domÅ¯", "artist": "Ivan MlÃ¡dek", "song": "MÄ› to nebavÃ­", "hint": "Ivan M_____"},
        {"lyrics": "Nashledanou v lepÅ¡Ã­ch Äasech", "artist": "Ivan MlÃ¡dek", "song": "Nashledanou", "hint": "Ivan M_____"},
        # Marta KubiÅ¡ovÃ¡
        {"lyrics": "BÃ½t stÃ¡le mlÃ¡d, to nenÃ­ Å¾Ã¡dnej vÄ›k", "artist": "Marta KubiÅ¡ovÃ¡", "song": "BÃ½t stÃ¡le mlÃ¡d", "hint": "Marta K______"},
        {"lyrics": "Modlitba pro Martu, aÅ¥ Å¾ije dÃ¡l", "artist": "Marta KubiÅ¡ovÃ¡", "song": "Modlitba pro Martu", "hint": "Marta K______"},
        {"lyrics": "Nechte zvony znÃ­t, nechte je znÃ­t", "artist": "Marta KubiÅ¡ovÃ¡", "song": "Zvony", "hint": "Marta K______"},
        # Olympic
        {"lyrics": "TÄ›Å¾kej den, vÅ¡echno je Å¡patnÄ›", "artist": "Olympic", "song": "TÄ›Å¾kej den", "hint": "O______"},
        {"lyrics": "Dej mi vÃ­c svÃ© lÃ¡sky", "artist": "Olympic", "song": "Dej mi vÃ­c", "hint": "O______"},
        {"lyrics": "JasnÃ¡ zprÃ¡va, to je ta co ÄekÃ¡m", "artist": "Olympic", "song": "JasnÃ¡ zprÃ¡va", "hint": "O______"},
        {"lyrics": "Å½elva, ta se nikam nespÄ›chÃ¡", "artist": "Olympic", "song": "Å½elva", "hint": "O______"},
        # Karel Kryl
        {"lyrics": "Pane prezidente, kam to jdete", "artist": "Karel Kryl", "song": "Pane prezidente", "hint": "Karel K___"},
        {"lyrics": "BratÅ™Ã­Äku zavÃ­rej vrÃ¡tka", "artist": "Karel Kryl", "song": "BratÅ™Ã­Äku", "hint": "Karel K___"},
        {"lyrics": "AndÄ›l, co spadl z nebe", "artist": "Karel Kryl", "song": "AndÄ›l", "hint": "Karel K___"},
        {"lyrics": "Slib, co jsem ti dal, platÃ­ poÅ™Ã¡d", "artist": "Karel Kryl", "song": "Slib", "hint": "Karel K___"},
        # Hana ZagorovÃ¡
        {"lyrics": "JÃ¡ nemÃ¡m strach, jÃ¡ jdu dÃ¡l", "artist": "Hana ZagorovÃ¡", "song": "NemÃ¡m strach", "hint": "Hana Z_______"},
        {"lyrics": "MimoÅ™Ã¡dnÃ¡ linka lÃ¡sky", "artist": "Hana ZagorovÃ¡", "song": "Linka lÃ¡sky", "hint": "Hana Z_______"},
        {"lyrics": "Maluj zase obrÃ¡zky", "artist": "Hana ZagorovÃ¡", "song": "ObrÃ¡zky", "hint": "Hana Z_______"},
        # Helena VondrÃ¡ÄkovÃ¡
        {"lyrics": "DlouhÃ¡ noc, tak dlouhÃ¡ noc", "artist": "Helena VondrÃ¡ÄkovÃ¡", "song": "DlouhÃ¡ noc", "hint": "Helena V________"},
        {"lyrics": "PÅ™ejdi JordÃ¡n a vraÅ¥ se domÅ¯", "artist": "Helena VondrÃ¡ÄkovÃ¡", "song": "JordÃ¡n", "hint": "Helena V________"},
        {"lyrics": "LÃ¡sko mÃ¡, jÃ¡ stÅ¯Åˆu", "artist": "Helena VondrÃ¡ÄkovÃ¡", "song": "LÃ¡sko mÃ¡", "hint": "Helena V________"},
        # Michal David
        {"lyrics": "Nonstop, tancujem nonstop", "artist": "Michal David", "song": "Nonstop", "hint": "Michal D____"},
        {"lyrics": "DiscopÅ™Ã­bÄ›h, to je naÅ¡e doba", "artist": "Michal David", "song": "DiscopÅ™Ã­bÄ›h", "hint": "Michal D____"},
        {"lyrics": "CÃ©Äka, bÃ©Äka, Ã¡Äka, jedÃ©Ã©Ã©Ã©Ã©Ã©m", "artist": "Michal David", "song": "CÃ©Äka", "hint": "Michal D____"},
        # JaromÃ­r Nohavica
        {"lyrics": "TÄ›Å¡Ã­nskÃ¡, tam kde je mÅ¯j domov", "artist": "JaromÃ­r Nohavica", "song": "TÄ›Å¡Ã­nskÃ¡", "hint": "JaromÃ­r N_______"},
        {"lyrics": "Mikymauz, to je starej znÃ¡mej", "artist": "JaromÃ­r Nohavica", "song": "Mikymauz", "hint": "JaromÃ­r N_______"},
        {"lyrics": "LadovskÃ¡ zima, bÃ­lÃ¡ a ÄistÃ¡", "artist": "JaromÃ­r Nohavica", "song": "LadovskÃ¡ zima", "hint": "JaromÃ­r N_______"},
        {"lyrics": "Kometa, letÃ­ kometa oblohou", "artist": "JaromÃ­r Nohavica", "song": "Kometa", "hint": "JaromÃ­r N_______"},
    ]
}


# Active music quizzes
active_music_quiz = {}

# Quiz settings per guild
quiz_settings = {}  # {guild_id: {"time": 60}}
DEFAULT_QUIZ_TIME = 60  # 1 minuta

def normalize_answer(text: str) -> str:
    """Normalize text for comparison - remove accents, lowercase"""
    text = text.lower().strip()
    replacements = {
        'Ã¡': 'a', 'Ä': 'c', 'Ä': 'd', 'Ã©': 'e', 'Ä›': 'e', 'Ã­': 'i',
        'Åˆ': 'n', 'Ã³': 'o', 'Å™': 'r', 'Å¡': 's', 'Å¥': 't', 'Ãº': 'u',
        'Å¯': 'u', 'Ã½': 'y', 'Å¾': 'z'
    }
    for cz, en in replacements.items():
        text = text.replace(cz, en)
    return text

def get_quiz_time(guild_id: int) -> int:
    """Get quiz time for guild"""
    return quiz_settings.get(guild_id, {}).get("time", DEFAULT_QUIZ_TIME)

def get_quiz_rounds(guild_id: int) -> int:
    """Get number of quiz rounds for guild"""
    return quiz_settings.get(guild_id, {}).get("rounds", 5)

@bot.tree.command(name="hudba-nastaveni", description="Nastav hudebnÃ­ kvÃ­z (pouze admin)")
@app_commands.describe(
    sekundy="ÄŒas na odpovÄ›Ä v sekundÃ¡ch (30-300)",
    pocet="PoÄet otÃ¡zek v kvÃ­zu (1-20)"
)
@app_commands.default_permissions(administrator=True)
async def slash_hudba_settings(interaction: discord.Interaction, sekundy: int = None, pocet: int = None):
    guild_id = interaction.guild_id
    if guild_id not in quiz_settings:
        quiz_settings[guild_id] = {}
    
    changes = []
    
    if sekundy is not None:
        if sekundy < 30 or sekundy > 300:
            await interaction.response.send_message("âŒ ÄŒas musÃ­ bÃ½t mezi 30 a 300 sekundami!", ephemeral=True)
            return
        quiz_settings[guild_id]["time"] = sekundy
        changes.append(f"â° ÄŒas: **{sekundy}s**")
    
    if pocet is not None:
        if pocet < 1 or pocet > 20:
            await interaction.response.send_message("âŒ PoÄet otÃ¡zek musÃ­ bÃ½t mezi 1 a 20!", ephemeral=True)
            return
        quiz_settings[guild_id]["rounds"] = pocet
        changes.append(f"ğŸ”¢ PoÄet otÃ¡zek: **{pocet}**")
    
    if not changes:
        current_time = get_quiz_time(guild_id)
        current_rounds = get_quiz_rounds(guild_id)
        await interaction.response.send_message(
            f"ğŸ“Š **AktuÃ¡lnÃ­ nastavenÃ­:**\nâ° ÄŒas: {current_time}s\nğŸ”¢ PoÄet otÃ¡zek: {current_rounds}",
            ephemeral=True
        )
        return
    
    await interaction.response.send_message(f"âœ… NastavenÃ­ uloÅ¾eno!\n" + "\n".join(changes))

@bot.tree.command(name="hudba", description="SpusÅ¥ hudebnÃ­ kvÃ­z - hÃ¡dej pÃ­sniÄku!")
@app_commands.describe(zanr="Vyber Å¾Ã¡nr hudby")
@app_commands.choices(zanr=[
    app_commands.Choice(name="ğŸ¤ Rap", value="rap"),
    app_commands.Choice(name="ğŸµ Pop", value="pop"),
    app_commands.Choice(name="ğŸ¸ Rock", value="rock"),
    app_commands.Choice(name="ğŸº Klasika", value="classic"),
    app_commands.Choice(name="ğŸ² NÃ¡hodnÃ½", value="random"),
])
async def slash_hudba(interaction: discord.Interaction, zanr: str = "random"):
    # Check permission from database
    if not await check_command_permission(interaction, "hudba"):
        return
    
    channel_id = interaction.channel_id
    guild_id = interaction.guild_id
    
    # Check if quiz already active
    if channel_id in active_music_quiz and active_music_quiz[channel_id].get("active"):
        await interaction.response.send_message("âŒ V tomto kanÃ¡lu uÅ¾ bÄ›Å¾Ã­ kvÃ­z! PoÄkej aÅ¾ skonÄÃ­.", ephemeral=True)
        return
    
    quiz_time = get_quiz_time(guild_id)
    total_rounds = get_quiz_rounds(guild_id)
    
    # Initialize quiz session
    active_music_quiz[channel_id] = {
        "active": True,
        "genre": zanr,
        "current_round": 0,
        "total_rounds": total_rounds,
        "scores": {},  # {user_id: {"name": name, "score": score}}
        "current_question": None,
        "answered": False,
        "quiz_time": quiz_time,
        "guild_id": guild_id
    }
    
    # Send start message
    embed = discord.Embed(
        title="ğŸµ HUDEBNÃ KVÃZ ZAÄŒÃNÃ!",
        description=f"**{total_rounds} otÃ¡zek** | **{quiz_time}s na odpovÄ›Ä**",
        color=discord.Color.purple()
    )
    embed.add_field(name="ğŸ¸ Å½Ã¡nr", value=zanr.upper() if zanr != "random" else "NÃHODNÃ", inline=True)
    embed.add_field(name="ğŸ“ Pravidla", value="NapiÅ¡ jmÃ©no interpreta do chatu!", inline=False)
    embed.set_footer(text="PrvnÃ­ otÃ¡zka za 3 sekundy...")
    
    await interaction.response.send_message(embed=embed)
    await asyncio.sleep(3)
    
    # Start quiz rounds
    await run_music_quiz(interaction.channel, channel_id)

async def run_music_quiz(channel, channel_id: int):
    """Run multiple rounds of music quiz"""
    import random
    
    quiz_data = active_music_quiz.get(channel_id)
    if not quiz_data:
        return
    
    genre = quiz_data["genre"]
    total_rounds = quiz_data["total_rounds"]
    quiz_time = quiz_data["quiz_time"]
    genre_names = {"rap": "ğŸ¤ Rap", "pop": "ğŸµ Pop", "rock": "ğŸ¸ Rock", "classic": "ğŸº Klasika"}
    
    for round_num in range(1, total_rounds + 1):
        if channel_id not in active_music_quiz:
            return  # Quiz was stopped
        
        quiz_data = active_music_quiz[channel_id]
        quiz_data["current_round"] = round_num
        quiz_data["answered"] = False
        
        # Select genre for this round
        current_genre = genre if genre != "random" else random.choice(list(CZECH_MUSIC.keys()))
        
        # Select random song
        song_data = random.choice(CZECH_MUSIC[current_genre])
        
        quiz_data["current_question"] = {
            "artist": song_data["artist"],
            "song": song_data["song"],
            "hint": song_data["hint"]
        }
        
        # Send question
        embed = discord.Embed(
            title=f"ğŸµ OTÃZKA {round_num}/{total_rounds}",
            description=f"**HÃ¡dej interpreta!**",
            color=discord.Color.purple()
        )
        embed.add_field(name="ğŸ¼ Text pÃ­snÄ›", value=f"*\"{song_data['lyrics']}\"*", inline=False)
        embed.add_field(name="ğŸ’¡ NÃ¡povÄ›da", value=f"`{song_data['hint']}`", inline=True)
        embed.add_field(name="ğŸ¸ Å½Ã¡nr", value=genre_names.get(current_genre, current_genre), inline=True)
        embed.add_field(name="â° ÄŒas", value=f"{quiz_time}s", inline=True)
        
        await channel.send(embed=embed)
        
        # Wait for answer or timeout - check every 0.5 seconds
        elapsed = 0
        while elapsed < quiz_time:
            await asyncio.sleep(0.5)
            elapsed += 0.5
            
            # Check if quiz still exists and if answered
            quiz_data = active_music_quiz.get(channel_id)
            if not quiz_data:
                return
            if quiz_data.get("answered"):
                break  # Someone answered, move to next question
        
        # Check if answered
        quiz_data = active_music_quiz.get(channel_id)
        if not quiz_data:
            return
        
        if not quiz_data["answered"]:
            embed = discord.Embed(
                title="â° ÄŒAS VYPRÅ EL!",
                description=f"SprÃ¡vnÃ¡ odpovÄ›Ä: **{song_data['artist']}** - {song_data['song']}",
                color=discord.Color.red()
            )
            await channel.send(embed=embed)
        
        # Pause between rounds
        if round_num < total_rounds:
            await channel.send(f"â³ **DalÅ¡Ã­ otÃ¡zka za 3 sekundy...**")
            await asyncio.sleep(3)
    
    # Quiz finished - show final scores
    quiz_data = active_music_quiz.get(channel_id)
    if quiz_data:
        scores = quiz_data.get("scores", {})
        
        if scores:
            # Sort by score
            sorted_scores = sorted(scores.items(), key=lambda x: x[1]["score"], reverse=True)
            
            medals = ["ğŸ¥‡", "ğŸ¥ˆ", "ğŸ¥‰"]
            leaderboard = ""
            for i, (user_id, data) in enumerate(sorted_scores[:10]):
                medal = medals[i] if i < 3 else f"**{i+1}.**"
                leaderboard += f"{medal} {data['name']} - **{data['score']} bodÅ¯**\n"
            
            embed = discord.Embed(
                title="ğŸ† KVÃZ DOKONÄŒEN!",
                description=f"**VÃ½sledky z {total_rounds} otÃ¡zek:**",
                color=discord.Color.gold()
            )
            embed.add_field(name="ğŸ“Š Å½ebÅ™Ã­Äek", value=leaderboard or "Nikdo neskÃ³roval", inline=False)
            
            if sorted_scores:
                winner_id, winner_data = sorted_scores[0]
                embed.add_field(name="ğŸ‘‘ VÃ­tÄ›z", value=f"**{winner_data['name']}** s {winner_data['score']} body!", inline=False)
        else:
            embed = discord.Embed(
                title="ğŸ† KVÃZ DOKONÄŒEN!",
                description="Nikdo neuhodl Å¾Ã¡dnou otÃ¡zku!",
                color=discord.Color.orange()
            )
        
        await channel.send(embed=embed)
        
        # Cleanup
        if channel_id in active_music_quiz:
            del active_music_quiz[channel_id]

@bot.command(name="hudba", aliases=["music", "hz"])
@commands.has_permissions(administrator=True)
async def prefix_hudba(ctx, zanr: str = "random"):
    """!hudba [rap/pop/rock/classic/random] - HudebnÃ­ kvÃ­z (Admin)"""
    channel_id = ctx.channel.id
    guild_id = ctx.guild.id
    
    if channel_id in active_music_quiz and active_music_quiz[channel_id].get("active"):
        await ctx.send("âŒ V tomto kanÃ¡lu uÅ¾ bÄ›Å¾Ã­ kvÃ­z!")
        return
    
    # Validate genre
    if zanr not in ["rap", "pop", "rock", "classic", "random"]:
        zanr = "random"
    
    quiz_time = get_quiz_time(guild_id)
    total_rounds = get_quiz_rounds(guild_id)
    
    active_music_quiz[channel_id] = {
        "active": True,
        "genre": zanr,
        "current_round": 0,
        "total_rounds": total_rounds,
        "scores": {},
        "current_question": None,
        "answered": False,
        "quiz_time": quiz_time,
        "guild_id": guild_id
    }
    
    embed = discord.Embed(
        title="ğŸµ HUDEBNÃ KVÃZ ZAÄŒÃNÃ!",
        description=f"**{total_rounds} otÃ¡zek** | **{quiz_time}s na odpovÄ›Ä**",
        color=discord.Color.purple()
    )
    embed.add_field(name="ğŸ¸ Å½Ã¡nr", value=zanr.upper() if zanr != "random" else "NÃHODNÃ", inline=True)
    embed.add_field(name="ğŸ“ Pravidla", value="NapiÅ¡ jmÃ©no interpreta do chatu!", inline=False)
    embed.set_footer(text="PrvnÃ­ otÃ¡zka za 3 sekundy...")
    
    await ctx.send(embed=embed)
    await asyncio.sleep(3)
    
    await run_music_quiz(ctx.channel, channel_id)

# ============== FILM QUIZ ==============

FILM_DATABASE = {
    "ceske": [
        # PelÃ­Å¡ky
        {"quote": "Nechte zvÃ­Å™Ã¡tka Å¾Ã­t!", "film": "PelÃ­Å¡ky", "year": "1999", "hint": "P______"},
        {"quote": "Koho chleba jÃ­Å¡, toho pÃ­seÅˆ zpÃ­vej", "film": "PelÃ­Å¡ky", "year": "1999", "hint": "P______"},
        {"quote": "A hele, tÃ¡mhle leze hroch!", "film": "PelÃ­Å¡ky", "year": "1999", "hint": "P______"},
        {"quote": "JÃ¡ mÃ¡m rÃ¡d demokracii!", "film": "PelÃ­Å¡ky", "year": "1999", "hint": "P______"},
        {"quote": "Takhle vypadÃ¡ ÄeskÃ¡ klasika!", "film": "PelÃ­Å¡ky", "year": "1999", "hint": "P______"},
        # SamotÃ¡Å™i
        {"quote": "Ty vole, to je bomba!", "film": "SamotÃ¡Å™i", "year": "2000", "hint": "S_______"},
        {"quote": "LÃ¡ska je jako voda, musÃ­ tÃ©ct", "film": "SamotÃ¡Å™i", "year": "2000", "hint": "S_______"},
        {"quote": "ProstÄ› blbÃ¡ nÃ¡lada, to je celÃ½", "film": "SamotÃ¡Å™i", "year": "2000", "hint": "S_______"},
        {"quote": "Å½ivot je pes a pak umÅ™eÅ¡", "film": "SamotÃ¡Å™i", "year": "2000", "hint": "S_______"},
        # VratnÃ© lahve
        {"quote": "VÃ­Å¡ co, tak jÃ¡ pÅ¯jdu...", "film": "VratnÃ© lahve", "year": "2007", "hint": "VratnÃ© l____"},
        {"quote": "ÄŒlovÄ›k musÃ­ mÃ­t v Å¾ivotÄ› Å¡tÄ›stÃ­", "film": "VratnÃ© lahve", "year": "2007", "hint": "VratnÃ© l____"},
        # Kolja
        {"quote": "To je ale kravina!", "film": "Kolja", "year": "1996", "hint": "K____"},
        {"quote": "Malej, pojÄ sem!", "film": "Kolja", "year": "1996", "hint": "K____"},
        {"quote": "RusÃ¡ci, to jsou svinÄ›", "film": "Kolja", "year": "1996", "hint": "K____"},
        # ObecnÃ¡ Å¡kola
        {"quote": "DÄ›ti, co byste chtÄ›li k veÄeÅ™i?", "film": "ObecnÃ¡ Å¡kola", "year": "1991", "hint": "ObecnÃ¡ Å¡____"},
        {"quote": "Dneska mÃ¡me volno!", "film": "ObecnÃ¡ Å¡kola", "year": "1991", "hint": "ObecnÃ¡ Å¡____"},
        # VesniÄko mÃ¡ stÅ™ediskovÃ¡
        {"quote": "Kubo, co to dÄ›lÃ¡Å¡?", "film": "VesniÄko mÃ¡ stÅ™ediskovÃ¡", "year": "1985", "hint": "VesniÄko mÃ¡ s__________"},
        {"quote": "Pane pÅ™edsedo, to nejde!", "film": "VesniÄko mÃ¡ stÅ™ediskovÃ¡", "year": "1985", "hint": "VesniÄko mÃ¡ s__________"},
        {"quote": "Soudruhu, to je omyl!", "film": "VesniÄko mÃ¡ stÅ™ediskovÃ¡", "year": "1985", "hint": "VesniÄko mÃ¡ s__________"},
        # MareÄku, podejte mi pero
        {"quote": "MareÄku, podejte mi pero!", "film": "MareÄku, podejte mi pero", "year": "1976", "hint": "MareÄku, p_____"},
        {"quote": "Kdo se smÄ›je naposled, ten se smÄ›je nejlÃ­p", "film": "MareÄku, podejte mi pero", "year": "1976", "hint": "MareÄku, p_____"},
        {"quote": "To je sÃ­la, pane kolego!", "film": "MareÄku, podejte mi pero", "year": "1976", "hint": "MareÄku, p_____"},
        # Na samotÄ› u lesa
        {"quote": "LÃ¡Äo, co to dÄ›lÃ¡Å¡?", "film": "Na samotÄ› u lesa", "year": "1976", "hint": "Na samotÄ› u l___"},
        {"quote": "Takhle se chovÃ¡ sluÅ¡nej ÄlovÄ›k!", "film": "Na samotÄ› u lesa", "year": "1976", "hint": "Na samotÄ› u l___"},
        # S tebou mÄ› bavÃ­ svÄ›t
        {"quote": "Hele, tÃ¡mhle je pramen!", "film": "S tebou mÄ› bavÃ­ svÄ›t", "year": "1982", "hint": "S tebou mÄ› b___ s___"},
        {"quote": "To je ale vÃ½let!", "film": "S tebou mÄ› bavÃ­ svÄ›t", "year": "1982", "hint": "S tebou mÄ› b___ s___"},
        # Slunce, seno
        {"quote": "Ty jsi ale krÃ¡va!", "film": "Slunce, seno, jahody", "year": "1983", "hint": "Slunce, seno, j_____"},
        {"quote": "KoneÄnÄ› prÃ¡zdniny!", "film": "Slunce, seno, jahody", "year": "1983", "hint": "Slunce, seno, j_____"},
        {"quote": "To je ale vedro!", "film": "Slunce, seno, jahody", "year": "1983", "hint": "Slunce, seno, j_____"},
        # BÃ­lÃ¡ panÃ­
        {"quote": "Pane purkmistr, ona mluvÃ­!", "film": "BÃ­lÃ¡ panÃ­", "year": "1965", "hint": "BÃ­lÃ¡ p___"},
        # LimonÃ¡dovÃ½ Joe
        {"quote": "Piju jen limonÃ¡du!", "film": "LimonÃ¡dovÃ½ Joe", "year": "1964", "hint": "LimonÃ¡dovÃ½ J__"},
        {"quote": "Kolaloka zabÃ­jÃ­!", "film": "LimonÃ¡dovÃ½ Joe", "year": "1964", "hint": "LimonÃ¡dovÃ½ J__"},
        # JÃ¡chyme, hoÄ ho do stroje
        {"quote": "JÃ¡chyme, hoÄ ho do stroje!", "film": "JÃ¡chyme, hoÄ ho do stroje", "year": "1974", "hint": "JÃ¡chyme, h__ h_ d_ s_____"},
        {"quote": "Soudruhu Å™editeli!", "film": "JÃ¡chyme, hoÄ ho do stroje", "year": "1974", "hint": "JÃ¡chyme, h__ h_ d_ s_____"},
        # KameÅˆÃ¡k
        {"quote": "Hele, tÃ¡mhle letÃ­ ptÃ¡Äek!", "film": "KameÅˆÃ¡k", "year": "2003", "hint": "K______"},
        {"quote": "To je ale trapas!", "film": "KameÅˆÃ¡k", "year": "2003", "hint": "K______"},
        # DalÅ¡Ã­ ÄeskÃ© filmy
        {"quote": "Å½ivot je boj a jÃ¡ jsem bojovnÃ­k", "film": "RomÃ¡n pro Å¾eny", "year": "2005", "hint": "RomÃ¡n pro Å¾___"},
        {"quote": "Tak co, holky, jdeme na to?", "film": "ÃšÄastnÃ­ci zÃ¡jezdu", "year": "2006", "hint": "ÃšÄastnÃ­ci z______"},
        {"quote": "MusÃ­Å¡ se na to dÃ­vat z nadhledu", "film": "Pupendo", "year": "2003", "hint": "P______"},
        {"quote": "JÃ¡ jsem ten, kdo klepe!", "film": "TmavomodrÃ½ svÄ›t", "year": "2001", "hint": "TmavomodrÃ½ s___"},
        {"quote": "ZemÄ› je kulatÃ¡ a jÃ¡ jsem jejÃ­ stÅ™ed", "film": "Å½elary", "year": "2003", "hint": "Å½_____"},
        {"quote": "NemÃ¡m Äas na kecy, musÃ­m pracovat", "film": "BabovÅ™esky", "year": "2013", "hint": "B________"},
        {"quote": "To je ale blbost, Å¾e jo?", "film": "SnowboarÄÃ¡ci", "year": "2004", "hint": "S__________"},
        {"quote": "VÅ¡echno bude dobrÃ½, uvidÃ­Å¡", "film": "Horem pÃ¡dem", "year": "2004", "hint": "Horem p____"},
        {"quote": "To je moje holka!", "film": "MusÃ­me si pomÃ¡hat", "year": "2000", "hint": "MusÃ­me si p______"},
        {"quote": "Nikdy neÅ™Ã­kej nikdy", "film": "Grandhotel", "year": "2006", "hint": "G________"},
        {"quote": "Hele, tÃ¡mhle je JeÅ¾Ã­Å¡ek!", "film": "AndÄ›l PÃ¡nÄ›", "year": "2005", "hint": "AndÄ›l P___"},
        {"quote": "PetronÃ­le, co to dÄ›lÃ¡Å¡?", "film": "AndÄ›l PÃ¡nÄ›", "year": "2005", "hint": "AndÄ›l P___"},
        {"quote": "UriÃ¡Å¡i, pozor!", "film": "AndÄ›l PÃ¡nÄ›", "year": "2005", "hint": "AndÄ›l P___"},
        {"quote": "Peklo je prÃ¡zdnÃ©!", "film": "AndÄ›l PÃ¡nÄ› 2", "year": "2016", "hint": "AndÄ›l P___ _"},
        {"quote": "JÃ¡ jsem princ!", "film": "TÅ™i oÅ™Ã­Å¡ky pro Popelku", "year": "1973", "hint": "TÅ™i oÅ™Ã­Å¡ky pro P______"},
        {"quote": "Popelko, kde jsi?", "film": "TÅ™i oÅ™Ã­Å¡ky pro Popelku", "year": "1973", "hint": "TÅ™i oÅ™Ã­Å¡ky pro P______"},
        {"quote": "KrÃ¡l je nahÃ½!", "film": "CÃ­saÅ™Å¯v pekaÅ™", "year": "1951", "hint": "CÃ­saÅ™Å¯v p____"},
        {"quote": "To je ale voÅˆavka!", "film": "DÃ­vka na koÅ¡tÄ›ti", "year": "1972", "hint": "DÃ­vka na k______"},
    ],
    "hollywood": [
        {"quote": "JÃ¡ se vrÃ¡tÃ­m", "film": "TerminÃ¡tor", "year": "1984", "hint": "T________"},
        {"quote": "AÅ¥ tÄ› provÃ¡zÃ­ SÃ­la", "film": "Star Wars", "year": "1977", "hint": "Star W___"},
        {"quote": "Na tebe se dÃ­vÃ¡m, zlatÃ­Äko", "film": "Casablanca", "year": "1942", "hint": "C_________"},
        {"quote": "Na mÄ› mluvÃ­Å¡?", "film": "TaxikÃ¡Å™", "year": "1976", "hint": "T______"},
        {"quote": "UdÄ›lÃ¡m mu nabÃ­dku, kterou nemÅ¯Å¾e odmÃ­tnout", "film": "Kmotr", "year": "1972", "hint": "K____"},
        {"quote": "Å½ivot je jako bonboniÃ©ra, nikdy nevÃ­Å¡ co ochutnÃ¡Å¡", "film": "Forrest Gump", "year": "1994", "hint": "Forrest G___"},
        {"quote": "VidÃ­m mrtvÃ© lidi", "film": "Å estÃ½ smysl", "year": "1999", "hint": "Å estÃ½ s____"},
        {"quote": "Pravdu neuneseÅ¡!", "film": "PÃ¡r sprÃ¡vnÃ½ch chlapÅ¯", "year": "1992", "hint": "PÃ¡r sprÃ¡vnÃ½ch c_____"},
        {"quote": "NenÃ­ nad domov", "film": "ÄŒarodÄ›j ze zemÄ› Oz", "year": "1939", "hint": "ÄŒarodÄ›j ze z___ O_"},
        {"quote": "ProÄ tak vÃ¡Å¾nÄ›?", "film": "TemnÃ½ rytÃ­Å™", "year": "2008", "hint": "TemnÃ½ r_____"},
        {"quote": "JÃ¡ jsem tvÅ¯j otec", "film": "Star Wars", "year": "1980", "hint": "Star W___"},
        {"quote": "ProstÄ› plav dÃ¡l", "film": "HledÃ¡ se Nemo", "year": "2003", "hint": "HledÃ¡ se N___"},
        {"quote": "Do nekoneÄna a jeÅ¡tÄ› dÃ¡l!", "film": "Toy Story", "year": "1995", "hint": "Toy S____"},
        {"quote": "Jsem krÃ¡l svÄ›ta!", "film": "Titanic", "year": "1997", "hint": "T______"},
        {"quote": "NeprojdeÅ¡!", "film": "PÃ¡n prstenÅ¯", "year": "2001", "hint": "PÃ¡n p_______"},
        {"quote": "MÅ¯j milÃ¡Äek", "film": "PÃ¡n prstenÅ¯", "year": "2001", "hint": "PÃ¡n p_______"},
        {"quote": "Tady je Johnny!", "film": "OsvÃ­cenÃ­", "year": "1980", "hint": "O_______"},
        {"quote": "Nikdy tÄ› nepustÃ­m, Jacku", "film": "Titanic", "year": "1997", "hint": "T______"},
        {"quote": "S velkou mocÃ­ pÅ™ichÃ¡zÃ­ velkÃ¡ zodpovÄ›dnost", "film": "Spider-Man", "year": "2002", "hint": "Spider-M__"},
        {"quote": "JÃ¡ jsem Iron Man", "film": "Iron Man", "year": "2008", "hint": "Iron M__"},
        {"quote": "Avengers, spojte se!", "film": "Avengers: Endgame", "year": "2019", "hint": "Avengers: E______"},
        {"quote": "JÃ¡ jsem Groot", "film": "StrÃ¡Å¾ci galaxie", "year": "2014", "hint": "StrÃ¡Å¾ci g______"},
        {"quote": "Hakuna Matata - Å¾Ã¡dnÃ© starosti", "film": "LvÃ­ krÃ¡l", "year": "1994", "hint": "LvÃ­ k___"},
        {"quote": "PusÅ¥ to, nech to bÃ½t!", "film": "LedovÃ© krÃ¡lovstvÃ­", "year": "2013", "hint": "LedovÃ© k________"},
        {"quote": "Houstone, mÃ¡me problÃ©m", "film": "Apollo 13", "year": "1995", "hint": "Apollo __"},
        {"quote": "Pozdrav mÃ©ho malÃ©ho kÃ¡moÅ¡e!", "film": "ZjizvenÃ¡ tvÃ¡Å™", "year": "1983", "hint": "ZjizvenÃ¡ t___"},
        {"quote": "MÄ›l jsi mÄ› uÅ¾ pÅ™i ahoj", "film": "Jerry Maguire", "year": "1996", "hint": "Jerry M______"},
        {"quote": "Baby nikdo nestrÄÃ­ do kouta", "film": "HÅ™Ã­Å¡nÃ½ tanec", "year": "1987", "hint": "HÅ™Ã­Å¡nÃ½ t____"},
        {"quote": "CÃ­tÃ­m potÅ™ebu... potÅ™ebu rychlosti", "film": "Top Gun", "year": "1986", "hint": "Top G__"},
        # NovÃ© Hollywood filmy
        {"quote": "BÄ›Å¾ za svÃ½m snem", "film": "La La Land", "year": "2016", "hint": "La La L___"},
        {"quote": "Jmenuji se Bond. James Bond.", "film": "James Bond", "year": "1962", "hint": "James B___"},
        {"quote": "ProtÅ™epat, nemÃ­chat", "film": "James Bond", "year": "1962", "hint": "James B___"},
        {"quote": "Franku, jÃ¡ ti to vrÃ¡tÃ­m!", "film": "Rocky", "year": "1976", "hint": "R____"},
        {"quote": "Adriano!", "film": "Rocky", "year": "1976", "hint": "R____"},
        {"quote": "Jsi mi kamarÃ¡d, pÅ™Ã­teli", "film": "GladiÃ¡tor", "year": "2000", "hint": "G_______"},
        {"quote": "Na moje znamenÃ­, rozpoutej peklo", "film": "GladiÃ¡tor", "year": "2000", "hint": "G_______"},
        {"quote": "Jsem Maximus Decimus Meridius", "film": "GladiÃ¡tor", "year": "2000", "hint": "G_______"},
        {"quote": "Jmenuji se Inigo Montoya", "film": "Princezna nevÄ›sta", "year": "1987", "hint": "Princezna n______"},
        {"quote": "Jak si pÅ™ejeÅ¡", "film": "Princezna nevÄ›sta", "year": "1987", "hint": "Princezna n______"},
        {"quote": "Dneska je dobrÃ½ den umÅ™Ã­t", "film": "Independence Day", "year": "1996", "hint": "Independence D__"},
        {"quote": "VÃ­tejte na Zemi!", "film": "Independence Day", "year": "1996", "hint": "Independence D__"},
        {"quote": "Co je v krabici?!", "film": "Sedm", "year": "1995", "hint": "S____"},
        {"quote": "PamatujeÅ¡ si prvnÃ­ pravidlo?", "film": "Klub rvÃ¡ÄÅ¯", "year": "1999", "hint": "Klub r_____"},
        {"quote": "O Klubu rvÃ¡ÄÅ¯ se nemluvÃ­", "film": "Klub rvÃ¡ÄÅ¯", "year": "1999", "hint": "Klub r_____"},
        {"quote": "Za svÅ¯j Å¾ivot jsem udÄ›lal tisÃ­c chyb", "film": "VykoupenÃ­ z vÄ›znice Shawshank", "year": "1994", "hint": "VykoupenÃ­ z v______"},
        {"quote": "BuÄ zaneprÃ¡zdnÄ›nÃ½ Å¾ivotem, nebo umÃ­rÃ¡nÃ­m", "film": "VykoupenÃ­ z vÄ›znice Shawshank", "year": "1994", "hint": "VykoupenÃ­ z v______"},
        {"quote": "ZemÄ› se otoÄila", "film": "PoÄÃ¡tek", "year": "2010", "hint": "P______"},
        {"quote": "MusÃ­me jÃ­t hloubÄ›ji", "film": "PoÄÃ¡tek", "year": "2010", "hint": "P______"},
        {"quote": "Nebudu ti lhÃ¡t, jsou to vetÅ™elci", "film": "VetÅ™elec", "year": "1979", "hint": "V______"},
        {"quote": "Ve vesmÃ­ru tÄ› nikdo neslyÅ¡Ã­ kÅ™iÄet", "film": "VetÅ™elec", "year": "1979", "hint": "V______"},
        {"quote": "VzhÅ¯ru do neznÃ¡ma!", "film": "VzhÅ¯ru do oblak", "year": "2009", "hint": "VzhÅ¯ru do o_____"},
        {"quote": "Jsem legenda", "film": "Jsem legenda", "year": "2007", "hint": "Jsem l_____"},
        {"quote": "ZachraÅˆ vojÃ­na Ryana!", "film": "ZachraÅˆte vojÃ­na Ryana", "year": "1998", "hint": "ZachraÅˆte v_____ R____"},
        {"quote": "ZaslouÅ¾Ã­Å¡ si to", "film": "ZachraÅˆte vojÃ­na Ryana", "year": "1998", "hint": "ZachraÅˆte v_____ R____"},
    ],
    "komedie": [
        {"quote": "To ona Å™ekla", "film": "The Office", "year": "2005", "hint": "The O_____"},
        {"quote": "Jsem docela velkÃ© zvÃ­Å™e", "film": "ZprÃ¡vaÅ™", "year": "2004", "hint": "Z______"},
        {"quote": "Ty mÄ› zabÃ­jÃ­Å¡, ÄlovÄ›Äe!", "film": "Sandlot", "year": "1993", "hint": "S______"},
        {"quote": "Dneska tu vÅ¯bec nemÃ¡m bÃ½t", "film": "BarÃ¡ÄnÃ­ci", "year": "1994", "hint": "B________"},
        {"quote": "Ale jo, zlato, ale jo!", "film": "Austin Powers", "year": "1997", "hint": "Austin P_____"},
        {"quote": "Tak jo, fajn!", "film": "Ace Ventura", "year": "1994", "hint": "Ace V______"},
        {"quote": "TakÅ¾e Å™Ã­kÃ¡Å¡, Å¾e mÃ¡m Å¡anci?", "film": "BlbÃ½ a blbÄ›jÅ¡Ã­", "year": "1994", "hint": "BlbÃ½ a b______"},
        {"quote": "DÃ¡m si to co ona", "film": "KdyÅ¾ Harry potkal Sally", "year": "1989", "hint": "KdyÅ¾ Harry p_____ S____"},
        {"quote": "To nenÃ­ nÃ¡dor!", "film": "Policajt ve Å¡kolce", "year": "1990", "hint": "Policajt ve Å¡_____"},
        {"quote": "Jsem ve sklenÄ›nÃ© kleci emocÃ­!", "film": "ZprÃ¡vaÅ™", "year": "2004", "hint": "Z______"},
        {"quote": "SedÃ­Å¡ na trÅ¯nu lÅ¾Ã­", "film": "VÃ¡noce po americku", "year": "2003", "hint": "VÃ¡noce po a_______"},
        {"quote": "JÃ¡ jsem Batman", "film": "Lego Batman", "year": "2017", "hint": "Lego B_____"},
        {"quote": "Osel!", "film": "Shrek", "year": "2001", "hint": "S____"},
        {"quote": "Vrstvy! ZlobÅ™i majÃ­ vrstvy!", "film": "Shrek", "year": "2001", "hint": "S____"},
        {"quote": "Jsme tam uÅ¾?", "film": "Shrek", "year": "2001", "hint": "S____"},
        # NovÃ© komedie
        {"quote": "JÃ¡ ti vÄ›Å™Ã­m, ÄlovÄ›Äe", "film": "Big Lebowski", "year": "1998", "hint": "Big L_______"},
        {"quote": "To je tvÅ¯j nÃ¡zor, ÄlovÄ›Äe", "film": "Big Lebowski", "year": "1998", "hint": "Big L_______"},
        {"quote": "Koberec opravdu spojil mÃ­stnost", "film": "Big Lebowski", "year": "1998", "hint": "Big L_______"},
        {"quote": "Bude to legendÃ¡rnÃ­!", "film": "Jak jsem poznal vaÅ¡i matku", "year": "2005", "hint": "Jak jsem p_____ v___ m____"},
        {"quote": "Co se stane ve Vegas, zÅ¯stane ve Vegas", "film": "PaÅ™ba ve Vegas", "year": "2009", "hint": "PaÅ™ba ve V____"},
        {"quote": "Kde je tygr?", "film": "PaÅ™ba ve Vegas", "year": "2009", "hint": "PaÅ™ba ve V____"},
        {"quote": "Jeden z nÃ¡s se oÅ¾enil?!", "film": "PaÅ™ba ve Vegas", "year": "2009", "hint": "PaÅ™ba ve V____"},
        {"quote": "ÄŒau, jÃ¡ jsem Andy", "film": "40 let panic", "year": "2005", "hint": "40 let p____"},
        {"quote": "Nechci bÃ½t sÃ¡m celÃ½ Å¾ivot", "film": "40 let panic", "year": "2005", "hint": "40 let p____"},
        {"quote": "MluvÃ­Å¡ se mnou?", "film": "MÃ©Äa", "year": "2012", "hint": "M___"},
        {"quote": "Hrom do police!", "film": "MÃ©Äa", "year": "2012", "hint": "M___"},
        {"quote": "Jsem pÅ™Ã­liÅ¡ sexy pro tohle auto", "film": "Zoolander", "year": "2001", "hint": "Z________"},
        {"quote": "Tenhle pohled se jmenuje ModrÃ¡ ocel", "film": "Zoolander", "year": "2001", "hint": "Z________"},
        {"quote": "Je to past!", "film": "Borat", "year": "2006", "hint": "B____"},
        {"quote": "Moc hezky!", "film": "Borat", "year": "2006", "hint": "B____"},
        {"quote": "Jsem Ron Burgundy?", "film": "ZprÃ¡vaÅ™", "year": "2004", "hint": "Z______"},
        {"quote": "60% Äasu to funguje pokaÅ¾dÃ©", "film": "ZprÃ¡vaÅ™", "year": "2004", "hint": "Z______"},
        {"quote": "Dej mi mÃ©ho syna!", "film": "PÄ›sti z oken", "year": "2000", "hint": "PÄ›sti z o___"},
        {"quote": "Jsem v tom aÅ¾ po uÅ¡i", "film": "Notting Hill", "year": "1999", "hint": "Notting H___"},
        {"quote": "Jsem jen holka, co stojÃ­ pÅ™ed klukem", "film": "Notting Hill", "year": "1999", "hint": "Notting H___"},
        {"quote": "NemÃ¡m rÃ¡d pondÄ›lky", "film": "Garfield", "year": "2004", "hint": "G______"},
        {"quote": "Kde je lasagne?", "film": "Garfield", "year": "2004", "hint": "G______"},
    ],
    "akcni": [
        {"quote": "Å Å¥astnÃ© a veselÃ©, kamarÃ¡de", "film": "SmrtonosnÃ¡ past", "year": "1988", "hint": "SmrtonosnÃ¡ p___"},
        {"quote": "K vrtulnÃ­ku!", "film": "PredÃ¡tor", "year": "1987", "hint": "P_______"},
        {"quote": "JÃ¡ se vrÃ¡tÃ­m", "film": "TerminÃ¡tor 2", "year": "1991", "hint": "TerminÃ¡tor _"},
        {"quote": "Hasta la vista, kÃ¡mo", "film": "TerminÃ¡tor 2", "year": "1991", "hint": "TerminÃ¡tor _"},
        {"quote": "VÃ­tej na veÄÃ­rku, kÃ¡mo!", "film": "SmrtonosnÃ¡ past", "year": "1988", "hint": "SmrtonosnÃ¡ p___"},
        {"quote": "JÃ¡ jsem zÃ¡kon!", "film": "Soudce Dredd", "year": "1995", "hint": "Soudce D____"},
        {"quote": "Je Äas na show!", "film": "Beetlejuice", "year": "1988", "hint": "B__________"},
        {"quote": "Å½iju svÅ¯j Å¾ivot Ätvrt mÃ­le za Ätvrt mÃ­le", "film": "Rychle a zbÄ›sile", "year": "2001", "hint": "Rychle a z______"},
        {"quote": "Do Mordoru se jen tak nevejde", "film": "PÃ¡n prstenÅ¯", "year": "2001", "hint": "PÃ¡n p_______"},
        {"quote": "Tohle mÅ¯Å¾u dÄ›lat celÃ½ den", "film": "Captain America", "year": "2011", "hint": "Captain A______"},
        {"quote": "Wakanda navÅ¾dy!", "film": "Black Panther", "year": "2018", "hint": "Black P______"},
        {"quote": "Jsem poÅ™Ã¡d naÅ¡tvanÃ½", "film": "Avengers", "year": "2012", "hint": "A_______"},
        {"quote": "My jsme Groot", "film": "StrÃ¡Å¾ci galaxie", "year": "2014", "hint": "StrÃ¡Å¾ci g______"},
        {"quote": "NezÃ¡leÅ¾Ã­ na tom kdo jsem, ale co dÄ›lÃ¡m", "film": "Batman zaÄÃ­nÃ¡", "year": "2005", "hint": "Batman z_____"},
        {"quote": "Nejsem tady zavÅ™enÃ½ s vÃ¡mi, vy jste zavÅ™enÃ­ se mnou", "film": "Watchmen", "year": "2009", "hint": "W_______"},
        # NovÃ© akÄnÃ­ filmy
        {"quote": "Rodina je vÅ¡echno", "film": "Rychle a zbÄ›sile", "year": "2001", "hint": "Rychle a z______"},
        {"quote": "Jedna poslednÃ­ jÃ­zda", "film": "Rychle a zbÄ›sile 7", "year": "2015", "hint": "Rychle a z______ _"},
        {"quote": "NevyjednÃ¡vÃ¡m s teroristy", "film": "SmrtonosnÃ¡ past 2", "year": "1990", "hint": "SmrtonosnÃ¡ p___ _"},
        {"quote": "Jmenuju se John Wick", "film": "John Wick", "year": "2014", "hint": "John W___"},
        {"quote": "Zabili mÃ©ho psa", "film": "John Wick", "year": "2014", "hint": "John W___"},
        {"quote": "JÃ¡ jsem Matrix", "film": "Matrix Resurrections", "year": "2021", "hint": "Matrix R___________"},
        {"quote": "BuÄ pÅ™ipraven!", "film": "LvÃ­ krÃ¡l", "year": "1994", "hint": "LvÃ­ k___"},
        {"quote": "Tohle je Sparta!", "film": "300", "year": "2006", "hint": "3__"},
        {"quote": "Dnes veÄer veÄeÅ™Ã­me v pekle!", "film": "300", "year": "2006", "hint": "3__"},
        {"quote": "NenÃ¡vidÃ­m hady", "film": "Indiana Jones", "year": "1981", "hint": "Indiana J____"},
        {"quote": "To patÅ™Ã­ do muzea!", "film": "Indiana Jones", "year": "1981", "hint": "Indiana J____"},
        {"quote": "TvÅ¯j Äas vyprÅ¡el", "film": "PirÃ¡ti z Karibiku", "year": "2003", "hint": "PirÃ¡ti z K______"},
        {"quote": "Ale rum jste vzali, ne?", "film": "PirÃ¡ti z Karibiku", "year": "2003", "hint": "PirÃ¡ti z K______"},
        {"quote": "Jsem kapitÃ¡n Jack Sparrow!", "film": "PirÃ¡ti z Karibiku", "year": "2003", "hint": "PirÃ¡ti z K______"},
        {"quote": "JÃ¡ jsem Batman", "film": "Batman", "year": "1989", "hint": "B_____"},
        {"quote": "VolÃ¡m se Neo", "film": "Matrix", "year": "1999", "hint": "M_____"},
    ],
    "horor": [
        {"quote": "Jsou tady!", "film": "Poltergeist", "year": "1982", "hint": "P__________"},
        {"quote": "JakÃ½ je tvÅ¯j oblÃ­benÃ½ straÅ¡idelnÃ½ film?", "film": "VÅ™Ã­skot", "year": "1996", "hint": "V______"},
        {"quote": "VÅ¡ichni tu dole plujeme", "film": "To", "year": "2017", "hint": "T_"},
        {"quote": "Tady je Johnny!", "film": "OsvÃ­cenÃ­", "year": "1980", "hint": "O_______"},
        {"quote": "Chci si zahrÃ¡t hru", "film": "Saw", "year": "2004", "hint": "S__"},
        {"quote": "DÃ¡ si krÃ©m do koÅ¡Ã­ku", "film": "MlÄenÃ­ jehÅˆÃ¡tek", "year": "1991", "hint": "MlÄenÃ­ j_______"},
        {"quote": "Jeden sÄÃ­taÄ lidu mÄ› chtÄ›l testovat", "film": "MlÄenÃ­ jehÅˆÃ¡tek", "year": "1991", "hint": "MlÄenÃ­ j_______"},
        {"quote": "Jdou si pro tebe, Barbaro!", "film": "Noc oÅ¾ivlÃ½ch mrtvol", "year": "1968", "hint": "Noc oÅ¾ivlÃ½ch m_____"},
        {"quote": "MÄ›j strach. MÄ›j velkÃ½ strach.", "film": "Moucha", "year": "1986", "hint": "M_____"},
        {"quote": "AÅ¥ dÄ›lÃ¡Å¡ co dÄ›lÃ¡Å¡, neusni", "film": "NoÄnÃ­ mÅ¯ra v Elm Street", "year": "1984", "hint": "NoÄnÃ­ m___ v E__ S_____"},
        {"quote": "Je to Å¾ivÃ©! Je to Å¾ivÃ©!", "film": "Frankenstein", "year": "1931", "hint": "F___________"},
        {"quote": "Sedm dnÃ­", "film": "Kruh", "year": "2002", "hint": "K___"},
        {"quote": "Jsem tvÅ¯j nejvÄ›tÅ¡Ã­ fanouÅ¡ek", "film": "Misery", "year": "1990", "hint": "M_____"},
        # NovÃ© horory
        {"quote": "NepodÃ­vej se, zÅ¯staÅˆ zticha", "film": "TichÃ© mÃ­sto", "year": "2018", "hint": "TichÃ© m____"},
        {"quote": "Jeden, dva, Freddy jde", "film": "NoÄnÃ­ mÅ¯ra v Elm Street", "year": "1984", "hint": "NoÄnÃ­ m___ v E__ S_____"},
        {"quote": "ChtÄ›li jsme jen pomoct", "film": "ÄŒelisti", "year": "1975", "hint": "ÄŒ______"},
        {"quote": "Budeme potÅ™ebovat vÄ›tÅ¡Ã­ loÄ", "film": "ÄŒelisti", "year": "1975", "hint": "ÄŒ______"},
        {"quote": "Hej, pojÄ si hrÃ¡t s nÃ¡mi", "film": "OsvÃ­cenÃ­", "year": "1980", "hint": "O_______"},
        {"quote": "Rudrum", "film": "OsvÃ­cenÃ­", "year": "1980", "hint": "O_______"},
        {"quote": "Zabiju tÄ›, ty malÃ¡ potvoro!", "film": "DÃ­tÄ› Rosemary", "year": "1968", "hint": "DÃ­tÄ› R_______"},
        {"quote": "On je tady", "film": "Paranormal Activity", "year": "2007", "hint": "Paranormal A_______"},
        {"quote": "Pomoz mi!", "film": "VymÃ­taÄ ÄÃ¡bla", "year": "1973", "hint": "VymÃ­taÄ Ä_____"},
        {"quote": "TvÃ¡ matka vaÅ™Ã­ peklo v pekle!", "film": "VymÃ­taÄ ÄÃ¡bla", "year": "1973", "hint": "VymÃ­taÄ Ä_____"},
        {"quote": "NÄ›co tu nenÃ­ v poÅ™Ã¡dku", "film": "Sinister", "year": "2012", "hint": "S_______"},
        {"quote": "JÃ¡ tÄ› vidÃ­m", "film": "V zajetÃ­ dÃ©monÅ¯", "year": "2013", "hint": "V zajetÃ­ d_____"},
        {"quote": "Annabelle se vracÃ­", "film": "Annabelle", "year": "2014", "hint": "A________"},
    ],
    "scifi": [
        {"quote": "PromiÅˆ Dave, to nemÅ¯Å¾u udÄ›lat", "film": "2001: VesmÃ­rnÃ¡ odysea", "year": "1968", "hint": "2001: VesmÃ­rnÃ¡ o_____"},
        {"quote": "E.T. domÅ¯ volat", "film": "E.T. MimozemÅ¡Å¥an", "year": "1982", "hint": "E.T. M__________"},
        {"quote": "JÃ¡ se vrÃ¡tÃ­m", "film": "TerminÃ¡tor", "year": "1984", "hint": "T________"},
        {"quote": "Matrix tÄ› mÃ¡", "film": "Matrix", "year": "1999", "hint": "M_____"},
        {"quote": "Å½Ã¡dnÃ¡ lÅ¾Ã­ce nenÃ­", "film": "Matrix", "year": "1999", "hint": "M_____"},
        {"quote": "ProbuÄ se, Neo", "film": "Matrix", "year": "1999", "hint": "M_____"},
        {"quote": "Odpor je marnÃ½", "film": "Star Trek", "year": "1996", "hint": "Star T___"},
        {"quote": "Å½ij dlouho a blaze", "film": "Star Trek", "year": "1966", "hint": "Star T___"},
        {"quote": "Ve vesmÃ­ru tÄ› nikdo neslyÅ¡Ã­ kÅ™iÄet", "film": "VetÅ™elec", "year": "1979", "hint": "V______"},
        {"quote": "Konec hry, chlape! Konec hry!", "film": "VetÅ™elci", "year": "1986", "hint": "V______"},
        {"quote": "ZÅ¯staÅˆ na cÃ­li!", "film": "Star Wars", "year": "1977", "hint": "Star W___"},
        {"quote": "UdÄ›lej nebo neudÄ›lej. Å½Ã¡dnÃ© zkusit nenÃ­.", "film": "Star Wars", "year": "1980", "hint": "Star W___"},
        {"quote": "TvÅ¯j nedostatek vÃ­ry mÄ› znepokojuje", "film": "Star Wars", "year": "1977", "hint": "Star W___"},
        {"quote": "Tohle nejsou ti droidi, kterÃ© hledÃ¡te", "film": "Star Wars", "year": "1977", "hint": "Star W___"},
        {"quote": "ChytrÃ¡ holka", "film": "JurskÃ½ park", "year": "1993", "hint": "JurskÃ½ p___"},
        {"quote": "Å½ivot si najde cestu", "film": "JurskÃ½ park", "year": "1993", "hint": "JurskÃ½ p___"},
        {"quote": "DrÅ¾te se svÃ½ch zadkÅ¯", "film": "JurskÃ½ park", "year": "1993", "hint": "JurskÃ½ p___"},
        {"quote": "JÃ¡ jsem nevyhnutelnÃ½", "film": "Avengers: Endgame", "year": "2019", "hint": "Avengers: E______"},
        {"quote": "Jsme v zÃ¡vÄ›reÄnÃ© hÅ™e", "film": "Avengers: Infinity War", "year": "2018", "hint": "Avengers: I_______ W__"},
        # NovÃ© sci-fi
        {"quote": "LÃ¡ska je jedinÃ¡ vÄ›c, co pÅ™ekonÃ¡ Äas", "film": "Interstellar", "year": "2014", "hint": "I___________"},
        {"quote": "NeÅ¾ijeme ve tmÄ›, jsme tma", "film": "Interstellar", "year": "2014", "hint": "I___________"},
        {"quote": "Murph!", "film": "Interstellar", "year": "2014", "hint": "I___________"},
        {"quote": "Zrodil jsem se pÅ™ipraven", "film": "Blade Runner", "year": "1982", "hint": "Blade R_____"},
        {"quote": "VidÄ›l jsem vÄ›ci, kterÃ½m byste nevÄ›Å™ili", "film": "Blade Runner", "year": "1982", "hint": "Blade R_____"},
        {"quote": "ÄŒas zemÅ™Ã­t", "film": "Blade Runner", "year": "1982", "hint": "Blade R_____"},
        {"quote": "ProbuÄ se, samurÃ¡ji", "film": "Matrix", "year": "1999", "hint": "M_____"},
        {"quote": "JÃ¡ vÃ­m kung-fu", "film": "Matrix", "year": "1999", "hint": "M_____"},
        {"quote": "Sleduj bÃ­lÃ©ho krÃ¡lÃ­ka", "film": "Matrix", "year": "1999", "hint": "M_____"},
        {"quote": "Toto je konec, pÅ™Ã­teli", "film": "Avatar", "year": "2009", "hint": "A_____"},
        {"quote": "VidÃ­m tÄ›", "film": "Avatar", "year": "2009", "hint": "A_____"},
        {"quote": "PropojÃ­me se", "film": "Avatar", "year": "2009", "hint": "A_____"},
        {"quote": "PoÅ¡lu tÄ› do minulosti", "film": "X-Men: BudoucÃ­ minulost", "year": "2014", "hint": "X-Men: B______ m_______"},
        {"quote": "Mutanti jsou budoucnost", "film": "X-Men", "year": "2000", "hint": "X-M__"},
        {"quote": "Tenhle kopec byl mÅ¯j domov", "film": "WALL-E", "year": "2008", "hint": "WALL-_"},
        {"quote": "Eva!", "film": "WALL-E", "year": "2008", "hint": "WALL-_"},
    ]
}

# ============== PRAVDA/LEÅ½ KVÃZ ==============

FACTS_DATABASE = [
    # ZvÃ­Å™ata - PRAVDA
    {"fact": "Srdce garnÃ¡ta je v jeho hlavÄ›", "answer": True, "category": "zvÃ­Å™ata"},
    {"fact": "KrÃ¡vy majÃ­ nejlepÅ¡Ã­ kamarÃ¡dy a stresujÃ­ se, kdyÅ¾ jsou od sebe oddÄ›leny", "answer": True, "category": "zvÃ­Å™ata"},
    {"fact": "Chobotnice majÃ­ tÅ™i srdce", "answer": True, "category": "zvÃ­Å™ata"},
    {"fact": "HlemÃ½Å¾di mohou spÃ¡t aÅ¾ 3 roky", "answer": True, "category": "zvÃ­Å™ata"},
    {"fact": "Slon je jedinÃ© zvÃ­Å™e, kterÃ© neumÃ­ skÃ¡kat", "answer": True, "category": "zvÃ­Å™ata"},
    {"fact": "KrokodÃ½l nedokÃ¡Å¾e vyplÃ¡znou jazyk", "answer": True, "category": "zvÃ­Å™ata"},
    {"fact": "MotÃ½li ochutnÃ¡vajÃ­ nohama", "answer": True, "category": "zvÃ­Å™ata"},
    {"fact": "PlameÅˆÃ¡ci se rodÃ­ rÅ¯Å¾ovÃ­", "answer": False, "category": "zvÃ­Å™ata"},
    {"fact": "PÅ¡trosi strkajÃ­ hlavu do pÃ­sku, kdyÅ¾ majÃ­ strach", "answer": False, "category": "zvÃ­Å™ata"},
    {"fact": "NetopÃ½Å™i jsou slepÃ­", "answer": False, "category": "zvÃ­Å™ata"},
    {"fact": "ZlatÃ© rybky majÃ­ pamÄ›Å¥ jen 3 sekundy", "answer": False, "category": "zvÃ­Å™ata"},
    {"fact": "KoÄky majÃ­ 9 Å¾ivotÅ¯", "answer": False, "category": "zvÃ­Å™ata"},
    {"fact": "DelfÃ­ni spÃ­ s jednÃ­m okem otevÅ™enÃ½m", "answer": True, "category": "zvÃ­Å™ata"},
    {"fact": "Koaly majÃ­ otisky prstÅ¯ podobnÃ© lidskÃ½m", "answer": True, "category": "zvÃ­Å™ata"},
    {"fact": "Å½irafy nemajÃ­ hlasivky a jsou ÃºplnÄ› nÄ›mÃ©", "answer": False, "category": "zvÃ­Å™ata"},
    {"fact": "VÄely umÃ­ rozpoznat lidskÃ© tvÃ¡Å™e", "answer": True, "category": "zvÃ­Å™ata"},
    {"fact": "TuÄÅˆÃ¡ci majÃ­ kolena", "answer": True, "category": "zvÃ­Å™ata"},
    {"fact": "Pavouci majÃ­ 6 nohou", "answer": False, "category": "zvÃ­Å™ata"},
    
    # VÄ›da - PRAVDA
    {"fact": "Blesk mÅ¯Å¾e udeÅ™it dvakrÃ¡t na stejnÃ© mÃ­sto", "answer": True, "category": "vÄ›da"},
    {"fact": "LidskÃ© tÄ›lo obsahuje dost uhlÃ­ku na vÃ½robu 9000 tuÅ¾ek", "answer": True, "category": "vÄ›da"},
    {"fact": "Voda mÅ¯Å¾e bÃ½t souÄasnÄ› v kapalnÃ©m i plynnÃ©m stavu", "answer": True, "category": "vÄ›da"},
    {"fact": "BanÃ¡ny jsou radioaktivnÃ­", "answer": True, "category": "vÄ›da"},
    {"fact": "Sklo je ve skuteÄnosti tekutina", "answer": False, "category": "vÄ›da"},
    {"fact": "MÄ›sÃ­c mÃ¡ vlastnÃ­ svÄ›tlo", "answer": False, "category": "vÄ›da"},
    {"fact": "HvÄ›zda, kterou vidÃ­me, uÅ¾ moÅ¾nÃ¡ neexistuje", "answer": True, "category": "vÄ›da"},
    {"fact": "Na VenuÅ¡i trvÃ¡ den dÃ©le neÅ¾ rok", "answer": True, "category": "vÄ›da"},
    {"fact": "LidÃ© pouÅ¾Ã­vajÃ­ jen 10% svÃ©ho mozku", "answer": False, "category